<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Быстрый просмотр - Language Flash</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>
<section class="content-section">
    <div class="container text-center">
        <h1>Быстрый просмотр</h1>
        <div th:if="${message}" class="alert alert-info" th:text="${message}"></div>
        <div th:unless="${message}" id="flashcard" class="card mx-auto" style="max-width: 500px;">
            <div class="card-body">
                <h3 id="flashWord"></h3>
                <p id="flashTranslation"></p>
            </div>
        </div>
    </div>
</section>
<div th:replace="~{fragments/footer :: footer}"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script th:inline="javascript">
    document.addEventListener('DOMContentLoaded', function () {
        const words = /*[[${words}]]*/ [];
        const flashSpeed = /*[[${settings.flashSpeed}]]*/ 1000;
        let index = 0;

        function showNextWord() {
            if (words.length === 0) return;
            const word = words[index];
            document.getElementById('flashWord').innerText = word.word.word;
            document.getElementById('flashTranslation').innerText = word.word.translation;
            index = (index + 1) % words.length;
        }

        showNextWord();
        setInterval(showNextWord, flashSpeed);
    });
</script>
</body>
</html>